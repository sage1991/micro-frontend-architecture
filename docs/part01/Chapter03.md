# MFA 설계 핵심 원칙과 기술

## MFA 를 규정하는 중요한 요소

![ci/cd pipeline](./micro-frontends-ci-pipeline.png)

### Independently Deliverable
* ~~독립적으로 유저가 사용 할 수 있는 앱~~
  * 반드시 독립적으로 유저에게 제공 될 수 있어야 할 필요는 없음
* 독립적으로 제공 가능한 프론트엔드 애플리케이션
* 독립적으로 개발 및 운영이 가능한 마이크로 앱
  * **독립적인 배포가 핵심**
  * 각각의 마이크로 애플리케이션은 개별로 배포가 가능해야 합니다.
  * 각자의 코드베이스에서 준비된 코드는 build & test pipeline 을 통해 최종적으로 production 으로 배포됩니다.
  * 복잡하고 거대한 앱을 작고 관리하기 쉬운 fragment 로 잘게 쪼개어 개발하면 많은 이점이 발생 합니다.
    * 기술 선택, 코드베이스, 팀 구성, 릴리즈 프로세스 등에서 독립적으로 작동하고 발전 할 수 있게 됩니다.

### Composed into a greater whole
* 작은 애플리케이션이 모여 더 큰 전체로 합쳐짐
* 마이크로 앱 여러개를 합쳐 하나의 커다란 웹 애플리케이션을 제공
  * 각각의 마이크로 애플리케이션이 각각 배포되어 합쳐져 하나의 애플리케이션을 구성합니다.
  * 개별 배포는 개별 실행을 의미하는 것은 아닙니다.
  * **조합 방식이 매우 중요**
    * 조합 방식에 따라 분해 방식 및 MFA 전체 형태도 결정 됩니다.
  * 복잡도가 올라 갈 수 있고 초기 설정이 필요 합니다.
  * 서로 연결하지 않아야 할 부분에 대해서 한번 더 점검 할 수 있고 종속성이 명확해집니다.

### Micro Frontends 와 BFF
시스템과 조직이 닮아 가도록 End to End team 을 구성하는 과도기적 단계에서  
현실적인 문제로 인해 즉각적인 전환이 어려울 경우 때문에 BFF 와 같은 레이어를 활용하여 점진적으로 migration 하는 방식을 고려 할 수 있습니다.

![micro frontends and bff](./micro-frontends-and-bff.png)

* 각 FE 애플리케이션의 요구사항만을 충족하는 백엔드 서버를 구축하는 BFF 패턴을 사용 할 수 있습니다.
* BFF 는 자체 비즈니스 로직과 DB를 갖춘 독립적인 서비스 일 수 있고, 하위 서비스에 aggregator 일 수도 있습니다.
* 타 팀의 하위 서비스에 마이크로 앱의 의존성이 발생해서 자율성 확보가 어려울 수 있습니다.
* 핵심은 독립적인 배포이기 때문에 점차 시스템과 팀을 독립적으로 운영 가능한 형태로 변경 해 가는것이 필요합니다. (어려운 문제)
